# ×©×œ×‘×™ ×¤×™×ª×•×— - ××•×“×•×œ ×™×œ×“×™× ×—×•×œ×™×

**×ª××¨×™×š:** × ×•×‘××‘×¨ 2025
**×’×¨×¡×”:** 1.0
**××˜×¨×”:** ×¤×™×ª×•×— ××•×“×•×œ×¨×™ ×¢× ××¤×©×¨×•×ª ×‘×“×™×§×” ×¢×¦×××™×ª ×œ×›×œ ×©×œ×‘

---

## ×¢×§×¨×•× ×•×ª ×”×¤×™×ª×•×—

### âœ… ×›×œ ×©×œ×‘ ×”×•× **×¢×¦×××™ ×•××•×›×Ÿ ×œ×‘×“×™×§×”**
- ×‘×¡×•×£ ×›×œ ×©×œ×‘ ×™×© **×ª×•×¦×¨ ×¤×•× ×§×¦×™×•× ×œ×™** ×©× ×™×ª×Ÿ ×œ×‘×“×•×§
- ××™×Ÿ ×ª×œ×•×™×•×ª ×‘×™×Ÿ ×©×œ×‘×™× - ×›×œ ×©×œ×‘ ×‘× ×•×™ ×¢×œ ×”×§×•×“×
- ×›×œ ×©×œ×‘ ×›×•×œ×œ **×§×¨×™×˜×¨×™×•× ×™ ×‘×“×™×§×” ×‘×¨×•×¨×™×**

### ğŸ¯ ×¤×™×¦×•×œ ×œ×¤×™ ××¡×›×™× ×•×¤×™×¦'×¨×™×
- ×©×œ×‘ = ××¡×š ××—×“ ××• ×¤×™×¦'×¨ ××—×“
- ×¢×“×™×¤×•×ª ×œ×ª×©×ª×™×•×ª ××©×•×ª×¤×•×ª ×§×•×“×
- ×¤×™×¦'×¨×™× ××ª×§×“××™× ×‘×¡×•×£

---

## ×¡×§×™×¨×ª ×”×©×œ×‘×™× (High-level)

```
Phase 1: ×ª×©×ª×™×ª ×•××•×“×œ × ×ª×•× ×™× â† ğŸ”§ Backend
Phase 2: ×“×©×‘×•×¨×“ ××©×¤×—×•×ª ×¤×¢×™×œ×•×ª â† ğŸ‘ï¸ ×§×¨×™××” ×‘×œ×‘×“
Phase 3: ××¡×š ×ª×™×§ - ×¤×¨×˜×™ ×”×‘×§×©×” â† ğŸ‘ï¸ ×§×¨×™××” + ×¢×¨×™×›×”
Phase 4: ××¡×š ×ª×™×§ - ×ª×©×œ×•××™× (×‘×•×“×“) â† âœï¸ ×›×ª×™×‘×”
Phase 5: ×”×–× ×” ××”×™×¨×” â† âœï¸ ×›×ª×™×‘×” ××¨×•×‘×”
Phase 6: ×¡×’×™×¨×ª ×ª×™×§ â† ğŸ”’ × ×™×”×•×œ ×¡×˜×˜×•×¡
Phase 7: ××©×¤×—×•×ª ×œ× ×¤×¢×™×œ×•×ª â† ğŸ“‹ × ×™×”×•×œ ××¨×›×™×•×Ÿ
Phase 8: ×©×œ×™×—×ª ××™×™×œ×™× ×—×•×“×©×™×™× â† ğŸ“§ ×ª×§×©×•×¨×ª
Phase 9: ××™× ×˜×’×¨×¦×™×” ×¢× ××•×“×•×œ ×”×¢×‘×¨×•×ª â† ğŸ”— ××™× ×˜×’×¨×¦×™×”
Phase 10: ×”×’×“×¨×•×ª ××¢×¨×›×ª â† âš™ï¸ × ×™×”×•×œ
```

---

## Phase 1: ×ª×©×ª×™×ª ×•××•×“×œ × ×ª×•× ×™×

### ğŸ¯ ××˜×¨×”
×”×›× ×ª ×”×ª×©×ª×™×ª ×”×˜×›× ×™×ª: DB, API, Types, Utils

### ğŸ“‹ ××©×™××•×ª

#### 1.1 Database Schema
- [x] ×•×™×“×•× ×©×˜×‘×œ×ª `cases` ×ª×•××›×ª ×‘×©×“×•×ª ×™×œ×“×™× ×—×•×œ×™×:
  - `family_name`, `child_name`
  - `parent1_name`, `parent2_name`
  - `start_date`, `end_date`, `end_reason`, `end_reason_notes`
- [x] ×•×™×“×•× ×©×˜×‘×œ×ª `payments` ×ª×•××›×ª ×‘:
  - `payment_type = 'cleaning_monthly'`
  - `payment_month` (DATE)
- [ ] ×™×¦×™×¨×ª ×˜×‘×œ×ª `settings` (×× ×œ× ×§×™×™××ª):
  ```sql
  CREATE TABLE settings (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    key VARCHAR(100) UNIQUE NOT NULL,
    value TEXT NOT NULL,
    description TEXT,
    updated_at TIMESTAMP DEFAULT NOW()
  );
  ```
- [ ] ×”×•×¡×¤×ª ×©×•×¨×” ×œ-`settings`:
  ```sql
  INSERT INTO settings (key, value, description) VALUES
    ('cleaning_monthly_cap', '720', '×ª×§×¨×ª ×ª×©×œ×•× ×—×•×“×©×™ (â‚ª)');
  ```

#### 1.2 TypeScript Types
- [ ] ×§×•×‘×¥: `src/types/cleaning-case.ts`
  ```typescript
  export interface CleaningCase {
    id: string;
    case_number: number;
    case_type: 'cleaning';
    status: 'active' | 'inactive';

    family_name: string;
    child_name: string;
    parent1_name: string;
    parent2_name?: string;

    address: string;
    city: string;
    contact_phone: string;
    contact_email: string;

    start_date: Date;
    end_date?: Date;
    end_reason?: 'healed' | 'deceased' | 'other';
    end_reason_notes?: string;

    created_at: Date;
    updated_at: Date;
  }

  export interface CleaningPayment {
    id: string;
    case_id: string;
    payment_type: 'cleaning_monthly';
    payment_month: Date;
    amount_ils: number;
    status: 'pending' | 'transferred' | 'cancelled';
    notes?: string;
    created_at: Date;
  }
  ```

#### 1.3 API Routes (Skeleton)
- [ ] `src/app/api/cleaning-cases/route.ts` - GET (list), POST (create)
- [ ] `src/app/api/cleaning-cases/[id]/route.ts` - GET, PUT, DELETE
- [ ] `src/app/api/cleaning-cases/[id]/payments/route.ts` - GET, POST
- [ ] `src/app/api/cleaning-cases/bulk-payments/route.ts` - POST (×”×–× ×” ××”×™×¨×”)

#### 1.4 Utility Functions
- [ ] `src/lib/utils/date-helpers.ts`:
  - `getHebrewMonth(month: number): string`
  - `formatMonthYear(date: Date): string` â†’ "11/2024"
- [ ] `src/lib/utils/payment-helpers.ts`:
  - `getMonthlyCapFromSettings(): Promise<number>`
  - `hasPaymentForMonth(caseId: string, month: Date): Promise<boolean>`

### âœ… ×§×¨×™×˜×¨×™×•× ×™ ×”×¦×œ×—×” (Phase 1)
- [ ] ×˜×‘×œ××•×ª ×§×™×™××•×ª ×‘-DB
- [ ] Types ××•×’×“×¨×™× ×‘-TypeScript
- [ ] API routes ××—×–×™×¨×™× 200 OK (×’× ×× empty array)
- [ ] Utility functions ×¢×•×‘×“×•×ª (unit tests)

---

## Phase 2: ×“×©×‘×•×¨×“ ××©×¤×—×•×ª ×¤×¢×™×œ×•×ª

### ğŸ¯ ××˜×¨×”
××¡×š ×¨××©×™ ×©××¦×™×’ ×¨×©×™××ª ××©×¤×—×•×ª ×¤×¢×™×œ×•×ª (×§×¨×™××” ×‘×œ×‘×“, ×œ×œ× ×¢×¨×™×›×”)

### ğŸ“‹ ××©×™××•×ª

#### 2.1 API Implementation
- [ ] `GET /api/cleaning-cases`:
  - Query params: `status=active`, `search`, `city`
  - Response: ×¨×©×™××ª ××©×¤×—×•×ª + ×ª×©×œ×•× ×—×•×“×© × ×•×›×—×™
  - ×œ×•×’×™×§×”:
    ```typescript
    // ×œ×›×œ ××©×¤×—×”, ××¦× ××ª ×”×ª×©×œ×•× ×”××—×¨×•×Ÿ ×œ×—×•×“×© ×”× ×•×›×—×™
    const currentMonth = new Date();
    currentMonth.setDate(1); // ×™×•× 1 ×‘×—×•×“×©
    ```

#### 2.2 Frontend Components
- [ ] `src/app/[locale]/(app)/cases/page.tsx`:
  - ×”×•×¡×¤×ª ×˜××‘ "×™×œ×“×™× ×—×•×œ×™×" (×œ×™×“ "×—×ª×•× ×•×ª")
  - Tabs component: `<Tabs defaultValue="weddings">`
- [ ] `src/components/features/cleaning-cases/CleaningCasesDashboard.tsx`:
  - ×˜×‘×œ×” ×¢× ×¢××•×“×•×ª: ×©× ××©×¤×—×”, ×©× ×™×œ×“, ×ª××¨×™×š ×”×ª×—×œ×”, ×¡×›×•× ×—×•×“×© × ×•×›×—×™, ×¡×˜×˜×•×¡
  - ×¡×™× ×•× ×™×: ×—×™×¤×•×©, ×¢×™×¨, ×¡×˜×˜×•×¡ ×ª×©×œ×•×
  - **×œ×œ×** ×›×¤×ª×•×¨×™× (× ×•×¡×™×£ ×‘×©×œ×‘×™× ×”×‘××™×)

#### 2.3 ××™× ×“×™×§×˜×•×¨ ×•×™×–×•××œ×™
- [ ] ×œ×•×’×™×§×”: ×× `×”×™×•× >= 15` ×‘×—×•×“×© ×•××™×Ÿ ×ª×©×œ×•× â†’ ×¨×§×¢ ××“×•× ×‘×”×™×¨
  ```typescript
  const today = new Date();
  const isAfter15th = today.getDate() >= 15;
  const hasPayment = row.currentMonthPayment !== null;
  const shouldHighlight = isAfter15th && !hasPayment;
  ```
- [ ] ×¢×™×¦×•×‘: `className={shouldHighlight ? 'bg-red-50' : ''}`

### âœ… ×§×¨×™×˜×¨×™×•× ×™ ×”×¦×œ×—×” (Phase 2)
- [ ] ×˜××‘ "×™×œ×“×™× ×—×•×œ×™×" ××•×¤×™×¢ ×‘-`/cases`
- [ ] ×˜×‘×œ×” ××¦×™×’×” ××©×¤×—×•×ª ×¤×¢×™×œ×•×ª
- [ ] ×¡×™× ×•×Ÿ ×¢×•×‘×“ (×—×™×¤×•×© + ×¢×™×¨)
- [ ] ××©×¤×—×•×ª ×œ×œ× ×ª×©×œ×•× ×-15 ×œ×—×•×“×© ××¡×•×× ×•×ª ×‘××“×•×
- [ ] ×œ×—×™×¦×” ×¢×œ ×©×•×¨×” ×œ× ×¢×•×©×” ×›×œ×•× (× ×•×¡×™×£ ×‘-Phase 3)

### ğŸ§ª ××™×š ×œ×‘×“×•×§
1. ×œ×š ×œ-`/cases`
2. ×œ×—×¥ ×¢×œ ×˜××‘ "×™×œ×“×™× ×—×•×œ×™×"
3. ×•×•×™×“× ×©×¨×•××” ×¨×©×™××ª ××©×¤×—×•×ª
4. ×‘×“×•×§ ×¡×™× ×•×Ÿ ×œ×¤×™ ×©×/×¢×™×¨
5. ×©× ×” ×ª××¨×™×š ××¢×¨×›×ª ×œ-16 ×‘×—×•×“×© â†’ ×•×•×™×“× ×¡×™××•×Ÿ ××“×•×

---

## Phase 3: ××¡×š ×ª×™×§ - ×¤×¨×˜×™ ×”×‘×§×©×”

### ğŸ¯ ××˜×¨×”
××¡×š ×ª×™×§ ×¡×¤×¦×™×¤×™ ×¢× ×˜××‘ "×¤×¨×˜×™ ×”×‘×§×©×”" (×§×¨×™××” + ×¢×¨×™×›×”)

### ğŸ“‹ ××©×™××•×ª

#### 3.1 API Implementation
- [ ] `GET /api/cleaning-cases/[id]`:
  - Response: ×¤×¨×˜×™ ×ª×™×§ ××œ××™× + summary
  - Summary ××—×•×©×‘:
    ```typescript
    {
      totalPaid: sum(payments where status='transferred'),
      activeMonths: count(payments),
      lastEmailSent: max(email_logs.sent_at)
    }
    ```
- [ ] `PUT /api/cleaning-cases/[id]`:
  - ×¢×“×›×•×Ÿ ×©×“×•×ª: ×›×ª×•×‘×ª, ×˜×œ×¤×•× ×™×, ××™×™×œ, ×¤×¨×˜×™ ×‘× ×§

#### 3.2 Frontend Components
- [ ] `src/app/[locale]/(app)/cases/[id]/page.tsx`:
  - ×‘×“×™×§×ª `case_type`:
    ```typescript
    if (caseData.case_type === 'cleaning') {
      return <CleaningCaseView case={caseData} />;
    } else {
      return <WeddingCaseView case={caseData} />; // ×§×™×™×
    }
    ```
- [ ] `src/components/features/cleaning-cases/CleaningCaseView.tsx`:
  - Header: ××¡' ×ª×™×§, ×©× ××©×¤×—×”, ×¡×˜×˜×•×¡, ×ª×§×¦×™×¨
  - Tabs: "×¤×¨×˜×™ ×”×‘×§×©×”" + "×ª×©×œ×•××™×" (placeholder)
- [ ] `src/components/features/cleaning-cases/tabs/DetailsTab.tsx`:
  - 4 ×§×˜×¢×™×: ×¤×¨×˜×™ ××©×¤×—×”, ×¤×¨×˜×™ ×§×©×¨, ×¤×¨×˜×™ ×‘× ×§, ×ª×§×¦×™×¨ ×ª×™×§, ××¢×§×‘ ××™×™×œ×™×
  - ×©×“×•×ª × ×™×ª× ×™× ×œ×¢×¨×™×›×” (auto-save ××• ×›×¤×ª×•×¨ "×©××•×¨")

#### 3.3 × ×™×•×•×˜
- [ ] ×¢×“×›×•×Ÿ `CleaningCasesDashboard.tsx`:
  - ×”×•×¡×¤×ª `onClick` ×œ×©×•×¨×” â†’ `router.push(/cases/${row.id})`

### âœ… ×§×¨×™×˜×¨×™×•× ×™ ×”×¦×œ×—×” (Phase 3)
- [ ] ×œ×—×™×¦×” ×¢×œ ××©×¤×—×” ×‘×“×©×‘×•×¨×“ â†’ ×¤×•×ª×— ××¡×š ×ª×™×§
- [ ] ××¡×š ×ª×™×§ ××¦×™×’ 2 ×˜××‘×™× (×¤×¨×˜×™× + ×ª×©×œ×•××™×)
- [ ] ×˜××‘ "×¤×¨×˜×™ ×”×‘×§×©×”" ××¦×™×’ ××ª ×›×œ ×”××™×“×¢
- [ ] × ×™×ª×Ÿ ×œ×¢×¨×•×š ×©×“×•×ª ×•×œ×©××•×¨ (×¢×“×›×•×Ÿ ×‘-DB)
- [ ] ×ª×§×¦×™×¨ ×ª×™×§ ××•×¦×’ × ×›×•×Ÿ (×¡×›×•× ×›×•×œ×œ, ×—×•×“×©×™× ×¤×¢×™×œ×™×)

### ğŸ§ª ××™×š ×œ×‘×“×•×§
1. ×‘×—×¨ ××©×¤×—×” ××”×“×©×‘×•×¨×“ â†’ ×œ×—×¥ ×¢×œ ×”×©×•×¨×”
2. ×•×•×™×“× ×©× ×¤×ª×— ××¡×š ×”×ª×™×§
3. ×‘×“×•×§ ×©×›×œ ×”×¤×¨×˜×™× ××•×¦×’×™×
4. ×¢×¨×•×š ×©×“×” (×œ××©×œ ×˜×œ×¤×•×Ÿ) â†’ ×©××•×¨ â†’ ×¨×¢× ×Ÿ â†’ ×•×•×™×“× ×©× ×©××¨
5. ×‘×“×•×§ ×©×”×ª×§×¦×™×¨ × ×›×•×Ÿ (×¡×”"×› ×”×•×¢×‘×¨, ×—×•×“×©×™× ×¤×¢×™×œ×™×)

---

## Phase 4: ××¡×š ×ª×™×§ - ×˜××‘ ×ª×©×œ×•××™× (×‘×•×“×“)

### ğŸ¯ ××˜×¨×”
×”×–× ×ª ×ª×©×œ×•× ×—×•×“×©×™ ×‘×•×“×“ + ×”×™×¡×˜×•×¨×™×”

### ğŸ“‹ ××©×™××•×ª

#### 4.1 API Implementation
- [ ] `GET /api/cleaning-cases/[id]/payments`:
  - Response: ×¨×©×™××ª ×ª×©×œ×•××™× ×××•×™× ×ª ×œ×¤×™ `payment_month DESC`
- [ ] `POST /api/cleaning-cases/[id]/payments`:
  - Body: `{ payment_month, amount_ils, notes }`
  - Validation:
    - ×‘×“×™×§×ª ×ª×©×œ×•× ×›×¤×•×œ
    - ××–×”×¨×” ×× > ×ª×§×¨×” (××‘×œ ×œ× ×—×•×¡×)
  - ×¤×¢×•×œ×”:
    1. ×©××™×¨×” ×‘-`payments` ×¢× `status='pending'`
    2. **×œ×** ××¢×‘×™×¨ ×¢×“×™×™×Ÿ ×œ××•×“×•×œ ×”×¢×‘×¨×•×ª (× ×¢×©×” ×‘-Phase 9)
- [ ] `PUT /api/payments/[id]` - ×¢×¨×™×›×ª ×ª×©×œ×•×
- [ ] `DELETE /api/payments/[id]` - ××—×™×§×” (×¨×§ ×× `status='pending'`)

#### 4.2 Frontend Components
- [ ] `src/components/features/cleaning-cases/tabs/PaymentsTab.tsx`:
  - ×—×œ×§ ×¢×œ×™×•×Ÿ: ×˜×•×¤×¡ ×”×–× ×ª ×ª×©×œ×•× ×—×“×©
    - Dropdown ×—×•×“×© (×™× ×•××¨ - ×“×¦××‘×¨)
    - Dropdown ×©× ×” (2020 - 2030)
    - Input ×¡×›×•× + ×”×¢×¨×•×ª
    - ×›×¤×ª×•×¨ "×©××•×¨ ×ª×©×œ×•×"
  - ×—×œ×§ ×ª×—×ª×•×Ÿ: ×˜×‘×œ×ª ×”×™×¡×˜×•×¨×™×”
    - ×¢××•×“×•×ª: ×—×•×“×©, ×©× ×”, ×¡×›×•×, ×ª××¨×™×š ×”×–× ×”, ×¡×˜×˜×•×¡, ×¤×¢×•×œ×•×ª
    - Filters: ×¡×™× ×•×Ÿ ×œ×¤×™ ×©× ×”
    - Actions: ×¢×¨×™×›×” (âœï¸), ××—×™×§×” (ğŸ—‘ï¸)

#### 4.3 Validation & Alerts
- [ ] ×× `amount > cap`:
  ```tsx
  <Alert variant="warning">
    ×”×¡×›×•× ×¢×•×œ×” ×¢×œ ×”×ª×§×¨×” ({cap} â‚ª). ×”×× ×œ×”××©×™×š?
  </Alert>
  ```
- [ ] ×× ×ª×©×œ×•× ×›×¤×•×œ:
  ```tsx
  <Alert variant="warning">
    ×›×‘×¨ ×§×™×™× ×ª×©×œ×•× ×œ×—×•×“×© ×–×”. ×”×× ×œ×¢×¨×•×š?
  </Alert>
  ```

### âœ… ×§×¨×™×˜×¨×™×•× ×™ ×”×¦×œ×—×” (Phase 4)
- [ ] ×˜××‘ "×ª×©×œ×•××™×" ×¤×•× ×§×¦×™×•× ×œ×™
- [ ] × ×™×ª×Ÿ ×œ×”×–×™×Ÿ ×ª×©×œ×•× ×—×“×©
- [ ] ××–×”×¨×•×ª ××•×¦×’×•×ª (×ª×§×¨×”, ×›×¤×™×œ×•×ª)
- [ ] ×”×™×¡×˜×•×¨×™×” ××•×¦×’×ª × ×›×•×Ÿ
- [ ] × ×™×ª×Ÿ ×œ×¢×¨×•×š/×œ××—×•×§ ×ª×©×œ×•××™× ×××ª×™× ×™×
- [ ] ×œ× × ×™×ª×Ÿ ×œ××—×•×§ ×ª×©×œ×•××™× ×©×”×•×¢×‘×¨×•

### ğŸ§ª ××™×š ×œ×‘×“×•×§
1. ×¤×ª×— ×ª×™×§ â†’ ×˜××‘ "×ª×©×œ×•××™×"
2. ×”×–×Ÿ ×ª×©×œ×•× ×œ× ×•×‘××‘×¨ 2024, ×¡×›×•× 720 â‚ª â†’ ×©××•×¨
3. × ×¡×” ×œ×”×–×™×Ÿ ×©×•×‘ ×œ× ×•×‘××‘×¨ â†’ ×•×•×™×“× ××–×”×¨×”
4. ×”×–×Ÿ ×¡×›×•× 800 â‚ª â†’ ×•×•×™×“× ××–×”×¨×”
5. ×‘×“×•×§ ×”×™×¡×˜×•×¨×™×” â†’ ×•×•×™×“× ×©×”×ª×©×œ×•× ××•×¤×™×¢
6. ×¢×¨×•×š ×ª×©×œ×•× â†’ ×©× ×” ×œ×¡×›×•× 650 â‚ª â†’ ×©××•×¨ â†’ ×•×•×™×“×
7. ××—×§ ×ª×©×œ×•× â†’ ×•×•×™×“× ×©× ××—×§

---

## Phase 5: ×”×–× ×” ××”×™×¨×” ×œ××¡×¤×¨ ××©×¤×—×•×ª

### ğŸ¯ ××˜×¨×”
Modal/×“×£ ×œ×”×–× ×ª ×ª×©×œ×•××™× ×œ××¡×¤×¨ ××©×¤×—×•×ª ×‘×•-×–×× ×™×ª

### ğŸ“‹ ××©×™××•×ª

#### 5.1 API Implementation
- [ ] `POST /api/cleaning-cases/bulk-payments`:
  - Body:
    ```typescript
    {
      payment_month: "2024-11-01",
      payments: [
        { case_id: "uuid1", amount_ils: 720, notes: "" },
        { case_id: "uuid2", amount_ils: 650, notes: "" }
      ]
    }
    ```
  - Validation: ×‘×“×™×§×ª ×›×¤×™×œ×•×™×•×ª ×œ×›×œ ××©×¤×—×”
  - ×¤×¢×•×œ×”: ×™×¦×™×¨×ª N ×¨×©×•××•×ª ×‘-`payments`
  - Response: `{ created: 2, skipped: 0, errors: [] }`

#### 5.2 Frontend Components
- [ ] `src/components/features/cleaning-cases/BulkPaymentEntry.tsx`:
  - Modal ××œ× ××¡×š ××• ×“×£ × ×¤×¨×“
  - Dropdown: ×‘×—×™×¨×ª ×—×•×“×©/×©× ×”
  - ×˜×‘×œ×”:
    - ×¢××•×“×•×ª: ×©× ××©×¤×—×”, ×©× ×™×œ×“, ×˜×œ×¤×•×Ÿ, ×¡×›×•×
    - ×¨×§ ××©×¤×—×•×ª ×¤×¢×™×œ×•×ª ×œ×œ× ×ª×©×œ×•× ×œ×—×•×“×© ×–×”
    - ××©×¤×—×•×ª ×©×›×‘×¨ ×§×™×‘×œ×•: ××™× ×“×™×§×˜×•×¨ "×›×‘×¨ ×§×™×‘×œ" (××‘×œ ×¢×“×™×™×Ÿ ×‘×¨×©×™××”)
  - ×›×¤×ª×•×¨ "×©××•×¨ ×”×›×œ"
- [ ] ×›×¤×ª×•×¨ "×”×–× ×” ××”×™×¨×”" ×‘×“×©×‘×•×¨×“:
  - `<Button onClick={() => setShowBulkEntry(true)}>×”×–× ×” ××”×™×¨×”</Button>`

#### 5.3 UX Enhancements
- [ ] ×¡×™×›×•× ×‘×ª×—×ª×™×ª Modal:
  - "×¡×”"×› × ×‘×—×¨×•: X ××©×¤×—×•×ª | ×¡×”"×› ×œ×ª×©×œ×•×: Y â‚ª"
- [ ] ×œ××—×¨ ×©××™×¨×”:
  - ×”×•×“×¢×ª ×”×¦×œ×—×”: "âœ… X ×ª×©×œ×•××™× × ×©××¨×• (×¡×”"×› Y â‚ª)"
  - ×¡×’×™×¨×ª Modal
  - ×¨×¢× ×•×Ÿ ×”×“×©×‘×•×¨×“

### âœ… ×§×¨×™×˜×¨×™×•× ×™ ×”×¦×œ×—×” (Phase 5)
- [ ] ×›×¤×ª×•×¨ "×”×–× ×” ××”×™×¨×”" ×‘×“×©×‘×•×¨×“
- [ ] Modal × ×¤×ª×— ×¢× ×˜×‘×œ×”
- [ ] ×¨×§ ××©×¤×—×•×ª ×¤×¢×™×œ×•×ª ×œ×œ× ×ª×©×œ×•× ××•×¦×’×•×ª
- [ ] × ×™×ª×Ÿ ×œ×”×–×™×Ÿ ×¡×›×•××™× ×©×•× ×™×
- [ ] ×©××™×¨×” ××¦×œ×™×—×” ×œ-N ××©×¤×—×•×ª
- [ ] ×“×©×‘×•×¨×“ ××ª×¢×“×›×Ÿ ×œ××—×¨ ×©××™×¨×”

### ğŸ§ª ××™×š ×œ×‘×“×•×§
1. ×“×©×‘×•×¨×“ â†’ "×”×–× ×” ××”×™×¨×”"
2. ×‘×—×¨ ×—×•×“×©: ×“×¦××‘×¨ 2024
3. ×”×–×Ÿ ×¡×›×•××™× ×œ-3 ××©×¤×—×•×ª (720, 650, 500)
4. ×œ×—×¥ "×©××•×¨ ×”×›×œ"
5. ×•×•×™×“× ×”×•×“×¢×ª ×”×¦×œ×—×”
6. ×—×–×•×¨ ×œ×“×©×‘×•×¨×“ â†’ ×•×•×™×“× ×©×”××©×¤×—×•×ª ××¡×•×× ×•×ª "×”×•×¢×‘×¨" / "×××ª×™×Ÿ"
7. ×¤×ª×— ×ª×™×§ ×©×œ ××—×ª ××”×Ÿ â†’ ×•×•×™×“× ×©×”×ª×©×œ×•× ××•×¤×™×¢ ×‘×”×™×¡×˜×•×¨×™×”

---

## Phase 6: ×¡×’×™×¨×ª ×ª×™×§

### ğŸ¯ ××˜×¨×”
×™×›×•×œ×ª ×œ×¡×’×•×¨ ×ª×™×§ (×¢× ×¡×™×‘×”) ×•×œ×¤×ª×•×— ××—×“×©

### ğŸ“‹ ××©×™××•×ª

#### 6.1 API Implementation
- [ ] `POST /api/cleaning-cases/[id]/close`:
  - Body: `{ reason: 'healed' | 'deceased' | 'other', notes?: string }`
  - Validation: ××–×”×¨×” ×× ×™×© ×ª×©×œ×•××™× ×××ª×™× ×™× (×œ× ×—×•×¡×)
  - ×¤×¢×•×œ×”:
    1. `status = 'inactive'`
    2. `end_date = NOW()`
    3. `end_reason = reason`
    4. `end_reason_notes = notes`
    5. ×¨×™×©×•× ×‘-`case_history`
- [ ] `POST /api/cleaning-cases/[id]/reopen`:
  - ×¤×¢×•×œ×”:
    1. `status = 'active'`
    2. `end_date = NULL`
    3. `end_reason = NULL`
    4. ×¨×™×©×•× ×‘-`case_history`

#### 6.2 Frontend Components
- [ ] `src/components/features/cleaning-cases/CloseDialog.tsx`:
  - Dialog ×¢×:
    - ××–×”×¨×”: "×”×× ××ª×” ×‘×˜×•×—?"
    - Radio buttons: 3 ×¡×™×‘×•×ª
    - Textarea: ×”×¡×‘×¨ × ×•×¡×£ (×× "××—×¨")
    - ××–×”×¨×” ×× ×™×© ×ª×©×œ×•××™× ×××ª×™× ×™×
    - ×›×¤×ª×•×¨×™×: "×‘×™×˜×•×œ" + "××©×¨ ×¡×’×™×¨×”"
- [ ] ×›×¤×ª×•×¨ "×¡×’×•×¨ ×ª×™×§" ×‘-Header ×©×œ ××¡×š ×ª×™×§:
  - ××•×¦×’ ×¨×§ ×× `status = 'active'`
- [ ] ×›×¤×ª×•×¨ "×”×—×–×¨ ×œ×¤×¢×™×œ" ×‘-Header:
  - ××•×¦×’ ×¨×§ ×× `status = 'inactive'`

### âœ… ×§×¨×™×˜×¨×™×•× ×™ ×”×¦×œ×—×” (Phase 6)
- [ ] ×›×¤×ª×•×¨ "×¡×’×•×¨ ×ª×™×§" ×¤×•× ×§×¦×™×•× ×œ×™
- [ ] ×“×™××œ×•×’ ××•×¦×’ ×¢× 3 ××¤×©×¨×•×™×•×ª
- [ ] ××–×”×¨×” ××•×¦×’×ª ×× ×™×© ×ª×©×œ×•××™× ×××ª×™× ×™×
- [ ] ×¡×’×™×¨×” ××¦×œ×™×—×” ×•××¢×“×›× ×ª ×¡×˜×˜×•×¡
- [ ] ×›×¤×ª×•×¨ "×”×—×–×¨ ×œ×¤×¢×™×œ" ×¢×•×‘×“
- [ ] ×¨×™×©×•× ×‘-audit log

### ğŸ§ª ××™×š ×œ×‘×“×•×§
1. ×¤×ª×— ×ª×™×§ ×¤×¢×™×œ
2. ×œ×—×¥ "×¡×’×•×¨ ×ª×™×§"
3. ×‘×—×¨ ×¡×™×‘×”: "×”×™×œ×“ ×”×—×œ×™×"
4. ××©×¨ â†’ ×•×•×™×“× ×©×”×ª×™×§ ×¢×‘×¨ ×œ"×œ× ×¤×¢×™×œ"
5. ×•×•×™×“× ×©×›×¤×ª×•×¨ ×”×©×ª× ×” ×œ"×”×—×–×¨ ×œ×¤×¢×™×œ"
6. ×œ×—×¥ "×”×—×–×¨ ×œ×¤×¢×™×œ" â†’ ×•×•×™×“× ×©×—×–×¨ ×œ"×¤×¢×™×œ"
7. ×‘×“×•×§ `case_history` ×‘DB â†’ ×•×•×™×“× 2 ×¨×©×•××•×ª (×¡×’×™×¨×” + ×¤×ª×™×—×”)

---

## Phase 7: ×“×©×‘×•×¨×“ ××©×¤×—×•×ª ×œ× ×¤×¢×™×œ×•×ª

### ğŸ¯ ××˜×¨×”
××¡×š × ×¤×¨×“ ×œ×”×¦×’×ª ×ª×™×§×™× ×¡×’×•×¨×™×

### ğŸ“‹ ××©×™××•×ª

#### 7.1 API Implementation
- [ ] `GET /api/cleaning-cases?status=inactive`:
  - Response: ×¨×©×™××ª ×ª×™×§×™× ×œ× ×¤×¢×™×œ×™×
  - ×¢××•×“×•×ª: ×ª××¨×™×š ×¡×’×™×¨×”, ×¡×™×‘×ª ×¡×’×™×¨×”

#### 7.2 Frontend Components
- [ ] `src/app/[locale]/(app)/cases/inactive/page.tsx`:
  - ×˜×‘×œ×” ×“×•××” ×œ×“×©×‘×•×¨×“, ××‘×œ ×¢× ×¢××•×“×•×ª: ×ª××¨×™×š ×¡×’×™×¨×”, ×¡×™×‘×”
  - ×¡×™× ×•× ×™×: ×œ×¤×™ ×¡×™×‘×ª ×¡×’×™×¨×”
  - ×œ×—×™×¦×” ×¢×œ ×©×•×¨×” â†’ ×¤×•×ª×— ××¡×š ×ª×™×§
- [ ] ×›×¤×ª×•×¨ "××©×¤×—×•×ª ×œ× ×¤×¢×™×œ×•×ª" ×‘×“×©×‘×•×¨×“ ×™×œ×“×™× ×—×•×œ×™×:
  - `<Button onClick={() => router.push('/cases/inactive')}>ğŸ“‹ ××©×¤×—×•×ª ×œ× ×¤×¢×™×œ×•×ª</Button>`

### âœ… ×§×¨×™×˜×¨×™×•× ×™ ×”×¦×œ×—×” (Phase 7)
- [ ] ×›×¤×ª×•×¨ "××©×¤×—×•×ª ×œ× ×¤×¢×™×œ×•×ª" ×‘×“×©×‘×•×¨×“
- [ ] ×“×£ `/cases/inactive` ××¦×™×’ ×ª×™×§×™× ×¡×’×•×¨×™×
- [ ] ×˜×‘×œ×” ×›×•×œ×œ×ª ×ª××¨×™×š ×¡×’×™×¨×” ×•×¡×™×‘×”
- [ ] ×œ×—×™×¦×” ×¢×œ ×ª×™×§ â†’ ×¤×•×ª×— ××¡×š (×¢× ××™× ×“×™×§×˜×•×¨ "×œ× ×¤×¢×™×œ")

### ğŸ§ª ××™×š ×œ×‘×“×•×§
1. ×¡×’×•×¨ ×ª×™×§ (Phase 6)
2. ×“×©×‘×•×¨×“ â†’ "××©×¤×—×•×ª ×œ× ×¤×¢×™×œ×•×ª"
3. ×•×•×™×“× ×©×”×ª×™×§ ×”×¡×’×•×¨ ××•×¤×™×¢
4. ×œ×—×¥ ×¢×œ ×”×©×•×¨×” â†’ ×•×•×™×“× ×©× ×¤×ª×— ××¡×š ×”×ª×™×§
5. ×•×•×™×“× ×©×™×© ××™× ×“×™×§×˜×•×¨ "×œ× ×¤×¢×™×œ" ×‘-Header

---

## Phase 8: ×©×œ×™×—×ª ××™×™×œ×™× ×—×•×“×©×™×™×

### ğŸ¯ ××˜×¨×”
××¢×¨×›×ª ×©×œ×™×—×ª ××™×™×œ×™× ×—×•×“×©×™×™× (×™×“× ×™×ª) ×¢× ×¢×¨×™×›×” ×•×ª×¦×•×’×” ××§×“×™××”

### ğŸ“‹ ××©×™××•×ª

#### 8.1 API Implementation
- [ ] `GET /api/cleaning-cases/email-status`:
  - Response: ×¨×©×™××ª ××©×¤×—×•×ª + ×ª××¨×™×š ××™×™×œ ××—×¨×•×Ÿ
  - ×œ×•×’×™×§×”:
    ```sql
    SELECT c.*,
      MAX(el.sent_at) as last_email_sent
    FROM cases c
    LEFT JOIN email_logs el ON c.id = el.case_id
      AND el.email_type = 'monthly_request'
      AND el.sent_at >= DATE_TRUNC('month', NOW())
    WHERE c.status = 'active' AND c.case_type = 'cleaning'
    GROUP BY c.id
    ```
- [ ] `POST /api/cleaning-cases/send-monthly-emails`:
  - Body:
    ```typescript
    {
      recipients: [
        { case_id: "uuid1", email: "email1@example.com", family_name: "×›×”×Ÿ" }
      ],
      language: "he" | "en",
      custom_body?: string
    }
    ```
  - ×¤×¢×•×œ×”:
    1. ×©×œ×™×—×ª ××™×™×œ×™× (Nodemailer)
    2. ×¨×™×©×•× ×‘-`email_logs`
  - Response: `{ sent: 2, failed: 0, errors: [] }`

#### 8.2 Email Templates
- [ ] `src/lib/email-templates/monthly-request.ts`:
  - ×¤×•× ×§×¦×™×”: `generateMonthlyRequestEmail(lang, familyName, childName, month)`
  - ×ª××™×›×” ×‘×¢×‘×¨×™×ª + ×× ×’×œ×™×ª

#### 8.3 Frontend Components
- [ ] `src/components/features/cleaning-cases/SendEmailsFlow.tsx`:
  - **×©×œ×‘ 1:** ×‘×—×™×¨×ª × ××¢× ×™×
    - Dialog: "×©×œ×— ×œ×›×•×œ×" ××• "×‘×—×¨ ××©×¤×—×•×ª"
    - ×× ×‘×—×™×¨×” â†’ ×¨×©×™××ª checkboxes
    - ××–×”×¨×” ×œ××©×¤×—×•×ª ×©×›×‘×¨ ×§×™×‘×œ×• ×”×—×•×“×©
  - **×©×œ×‘ 2:** ×¢×¨×™×›×ª ×ª×‘× ×™×ª
    - Dropdown ×©×¤×” (×¢×‘×¨×™×ª / ×× ×’×œ×™×ª)
    - Textarea ×œ×¢×¨×™×›×ª ×’×•×£ ×”××™×™×œ
    - ×›×¤×ª×•×¨ "×ª×¦×•×’×” ××§×“×™××”"
  - **×©×œ×‘ 3:** ××™×©×•×¨ ×¡×•×¤×™
    - "×”×× ××ª×” ×‘×˜×•×—? X ××™×™×œ×™× ×™×™×©×œ×—×•"
  - **×©×œ×‘ 4:** ×ª×•×¦××”
    - "âœ… × ×©×œ×—×• X ××™×™×œ×™×"
- [ ] ×›×¤×ª×•×¨ "×©×œ×— ××™×™×œ×™× ×—×•×“×©×™×™×" ×‘×“×©×‘×•×¨×“:
  - `<Button onClick={() => setShowEmailFlow(true)}>ğŸ“§ ×©×œ×— ××™×™×œ×™× ×—×•×“×©×™×™×</Button>`

### âœ… ×§×¨×™×˜×¨×™×•× ×™ ×”×¦×œ×—×” (Phase 8)
- [ ] ×›×¤×ª×•×¨ "×©×œ×— ××™×™×œ×™×" ×‘×“×©×‘×•×¨×“
- [ ] ×ª×”×œ×™×š 4 ×©×œ×‘×™× ×¢×•×‘×“
- [ ] × ×™×ª×Ÿ ×œ×‘×—×•×¨ ××©×¤×—×•×ª ×¡×¤×¦×™×¤×™×•×ª
- [ ] ×¢×¨×™×›×ª ×ª×‘× ×™×ª ×¢×•×‘×“×ª
- [ ] ×ª×¦×•×’×” ××§×“×™××” ×¢×•×‘×“×ª
- [ ] ××™×™×œ×™× × ×©×œ×—×™× ×‘×¤×•×¢×œ
- [ ] ×¨×™×©×•× ×‘-`email_logs`
- [ ] ××©×¤×—×•×ª ×©×›×‘×¨ ×§×™×‘×œ×• ××¡×•×× ×•×ª

### ğŸ§ª ××™×š ×œ×‘×“×•×§
1. ×“×©×‘×•×¨×“ â†’ "×©×œ×— ××™×™×œ×™× ×—×•×“×©×™×™×"
2. ×‘×—×¨ "×©×œ×— ×œ×›×•×œ×"
3. ×•×•×™×“× ××–×”×¨×” ×× ×™×© ××©×¤×—×•×ª ×©×›×‘×¨ ×§×™×‘×œ×•
4. ×¢×‘×•×¨ ×œ×©×œ×‘ 2 â†’ ×¢×¨×•×š ×ª×‘× ×™×ª
5. ×œ×—×¥ "×ª×¦×•×’×” ××§×“×™××”" â†’ ×•×•×™×“× × ×›×•×Ÿ
6. ××©×¨ ×©×œ×™×—×”
7. ×•×•×™×“× ×”×•×“×¢×ª ×”×¦×œ×—×”
8. ×‘×“×•×§ `email_logs` â†’ ×•×•×™×“× ×¨×©×•××•×ª
9. ×‘×“×•×§ ××™×™×œ ×‘×¤×•×¢×œ (inbox)

---

## Phase 9: ××™× ×˜×’×¨×¦×™×” ×¢× ××•×“×•×œ ×”×¢×‘×¨×•×ª

### ğŸ¯ ××˜×¨×”
×—×™×‘×•×¨ ×ª×©×œ×•××™ ×™×œ×“×™× ×—×•×œ×™× ×œ××•×“×•×œ ×”×¢×‘×¨×•×ª ×”×§×™×™×

### ğŸ“‹ ××©×™××•×ª

#### 9.1 ×¢×“×›×•×Ÿ API ×ª×©×œ×•××™×
- [ ] `POST /api/cleaning-cases/[id]/payments`:
  - ×œ××—×¨ ×©××™×¨×” ×‘-`payments`:
    ```typescript
    // Phase 4: ×¨×§ ×©××™×¨×”
    // Phase 9: ×’× ×”×¢×‘×¨×” ×œ××•×“×•×œ ×”×¢×‘×¨×•×ª
    if (status === 'pending') {
      await addToTransfersQueue(payment);
    }
    ```
- [ ] `POST /api/cleaning-cases/bulk-payments`:
  - ××•×ª×• ×“×‘×¨ - ×”×¢×‘×¨×” ××•×˜×•××˜×™×ª

#### 9.2 ×¢×“×›×•×Ÿ ××•×“×•×œ ×”×¢×‘×¨×•×ª
- [ ] `src/app/[locale]/(app)/transfers/page.tsx`:
  - ×”×•×¡×¤×ª ×˜××‘ "×™×œ×“×™× ×—×•×œ×™×"
  - Tabs:
    - "×”×›×œ" (×—×ª×•× ×•×ª + ×™×œ×“×™×)
    - "×—×ª×•× ×•×ª"
    - "×™×œ×“×™× ×—×•×œ×™×" â† **×—×“×©**
- [ ] ×©××™×œ×ª×” ×œ×˜××‘ "×™×œ×“×™× ×—×•×œ×™×":
  ```sql
  SELECT p.*, c.family_name, c.child_name, bd.*
  FROM payments p
  JOIN cases c ON p.case_id = c.id
  JOIN bank_details bd ON c.id = bd.case_id
  WHERE p.payment_type = 'cleaning_monthly'
    AND p.status = 'pending'
  ORDER BY p.payment_month DESC;
  ```

#### 9.3 ×™×™×¦×•× MASAV
- [ ] ×¢×“×›×•×Ÿ `src/lib/masav/export.ts`:
  - ×ª××™×›×” ×‘-`payment_type = 'cleaning_monthly'`
  - ×¤×•×¨××˜ ×–×”×” ×œ×—×ª×•× ×•×ª (beneficiary_name, bank, amount...)

### âœ… ×§×¨×™×˜×¨×™×•× ×™ ×”×¦×œ×—×” (Phase 9)
- [ ] ×ª×©×œ×•××™× ×—×“×©×™× ××•×¢×‘×¨×™× ××•×˜×•××˜×™×ª ×œ××•×“×•×œ ×”×¢×‘×¨×•×ª
- [ ] ×˜××‘ "×™×œ×“×™× ×—×•×œ×™×" ×‘××•×“×•×œ ×”×¢×‘×¨×•×ª
- [ ] ×¨×©×™××” ××¦×™×’×” ×ª×©×œ×•××™× ×××ª×™× ×™×
- [ ] ×™×™×¦×•× MASAV ×›×•×œ×œ ×’× ×™×œ×“×™× ×—×•×œ×™×
- [ ] ×œ××—×¨ ×”×¢×‘×¨×”: `status = 'transferred'`

### ğŸ§ª ××™×š ×œ×‘×“×•×§
1. ×”×–×Ÿ ×ª×©×œ×•× ×—×“×© (Phase 4) â†’ ×©××•×¨
2. ×œ×š ×œ-`/transfers` â†’ ×˜××‘ "×™×œ×“×™× ×—×•×œ×™×"
3. ×•×•×™×“× ×©×”×ª×©×œ×•× ××•×¤×™×¢
4. ×¡××Ÿ checkbox â†’ ×™×™×¦× ×œ-MASAV
5. ×•×•×™×“× ×©×”×§×•×‘×¥ ×›×•×œ×œ ××ª ×”×ª×©×œ×•×
6. ×¡××Ÿ "×”×•×¢×‘×¨" â†’ ×•×•×™×“× ×©×”×¡×˜×˜×•×¡ ×”×ª×¢×“×›×Ÿ
7. ×—×–×•×¨ ×œ×ª×™×§ â†’ ×•×•×™×“× ×©×‘×”×™×¡×˜×•×¨×™×” ××•×¤×™×¢ "×”×•×¢×‘×¨"

---

## Phase 10: ×”×’×“×¨×•×ª ××¢×¨×›×ª

### ğŸ¯ ××˜×¨×”
×“×£ ×”×’×“×¨×•×ª ×œ× ×™×”×•×œ ×ª×§×¨×ª ×ª×©×œ×•× ×—×•×“×©×™

### ğŸ“‹ ××©×™××•×ª

#### 10.1 API Implementation
- [ ] `GET /api/settings`:
  - Response: `{ cleaning_monthly_cap: 720 }`
- [ ] `PUT /api/settings`:
  - Body: `{ key: 'cleaning_monthly_cap', value: '800' }`
  - Validation: value > 0

#### 10.2 Frontend Components
- [ ] `src/app/[locale]/(app)/settings/page.tsx`:
  - ×§×˜×¢ "×™×œ×“×™× ×—×•×œ×™×"
  - Input: ×ª×§×¨×ª ×ª×©×œ×•× ×—×•×“×©×™
  - ×›×¤×ª×•×¨ "×©××•×¨ ×©×™× ×•×™×™×"
  - ×”×•×“×¢×”: "âš ï¸ ×©×™× ×•×™ ×”×ª×§×¨×” ×™×©×¤×™×¢ ×¨×§ ×¢×œ ×ª×©×œ×•××™× ×—×“×©×™×"
- [ ] ×¢×“×›×•×Ÿ `PaymentsTab.tsx`:
  - ×§×¨×™××” ×œ-`getMonthlyCapFromSettings()` ×‘××§×•× 720 ×§×‘×•×¢

### âœ… ×§×¨×™×˜×¨×™×•× ×™ ×”×¦×œ×—×” (Phase 10)
- [ ] ×“×£ `/settings` ×§×™×™×
- [ ] × ×™×ª×Ÿ ×œ×©× ×•×ª ×ª×§×¨×”
- [ ] ×©×™× ×•×™ × ×©××¨ ×‘-DB
- [ ] ×ª×©×œ×•××™× ×—×“×©×™× ××§×‘×œ×™× ××–×”×¨×” ×œ×¤×™ ×”×ª×§×¨×” ×”×—×“×©×”
- [ ] ×ª×©×œ×•××™× ×™×©× ×™× ×œ× ××©×ª× ×™×

### ğŸ§ª ××™×š ×œ×‘×“×•×§
1. ×œ×š ×œ-`/settings`
2. ×©× ×” ×ª×§×¨×” ×-720 ×œ-800
3. ×©××•×¨ â†’ ×•×•×™×“× ×”×¦×œ×—×”
4. ×”×–×Ÿ ×ª×©×œ×•× ×—×“×© ×‘×¡×›×•× 750 â‚ª
5. ×•×•×™×“× ×©××™×Ÿ ××–×”×¨×” (×›×™ 750 < 800)
6. ×”×–×Ÿ 850 â‚ª â†’ ×•×•×™×“× ××–×”×¨×”

---

## ×¡×™×›×•× ×œ×•×— ×–×× ×™× ××©×•×¢×¨

| Phase | ×ª×™××•×¨ | ×–××Ÿ ××©×•×¢×¨ | ×ª×œ×•×™×•×ª |
|-------|-------|-----------|---------|
| **Phase 1** | ×ª×©×ª×™×ª ×•××•×“×œ × ×ª×•× ×™× | 1-2 ×©×¢×•×ª | - |
| **Phase 2** | ×“×©×‘×•×¨×“ ××©×¤×—×•×ª ×¤×¢×™×œ×•×ª | 2-3 ×©×¢×•×ª | Phase 1 |
| **Phase 3** | ××¡×š ×ª×™×§ - ×¤×¨×˜×™ ×”×‘×§×©×” | 2-3 ×©×¢×•×ª | Phase 2 |
| **Phase 4** | ×˜××‘ ×ª×©×œ×•××™× (×‘×•×“×“) | 3-4 ×©×¢×•×ª | Phase 3 |
| **Phase 5** | ×”×–× ×” ××”×™×¨×” | 2-3 ×©×¢×•×ª | Phase 4 |
| **Phase 6** | ×¡×’×™×¨×ª ×ª×™×§ | 1-2 ×©×¢×•×ª | Phase 3 |
| **Phase 7** | ×“×©×‘×•×¨×“ ×œ× ×¤×¢×™×œ×•×ª | 1 ×©×¢×” | Phase 6 |
| **Phase 8** | ×©×œ×™×—×ª ××™×™×œ×™× | 3-4 ×©×¢×•×ª | Phase 2 |
| **Phase 9** | ××™× ×˜×’×¨×¦×™×” ×¢× ×”×¢×‘×¨×•×ª | 2-3 ×©×¢×•×ª | Phase 4 |
| **Phase 10** | ×”×’×“×¨×•×ª ××¢×¨×›×ª | 1 ×©×¢×” | Phase 4 |

**×¡×”"×›:** ~18-25 ×©×¢×•×ª ×¢×‘×•×“×”

---

## Checklist ×œ×›×œ Phase

×œ×¤× ×™ ×¡×™×•× ×›×œ ×©×œ×‘, ×•×•×™×“×:

- [ ] **×›×œ ×”××©×™××•×ª ×”×•×©×œ××•** (×‘×“×™×§×” ×™×“× ×™×ª)
- [ ] **×§×¨×™×˜×¨×™×•× ×™ ×”×”×¦×œ×—×” ×¢×•××“×™×** (×‘×“×™×§×” ×œ×¤×™ ×”×¨×©×™××”)
- [ ] **×‘×“×™×§×•×ª ×¢×‘×¨×•** (×œ×¤×™ "××™×š ×œ×‘×“×•×§")
- [ ] **Commit + Push** ×œ×’×™×˜:
  ```bash
  git add .
  git commit -m "feat(cleaning): Phase X - [×ª×™××•×¨]"
  git push
  ```
- [ ] **×¢×“×›×•×Ÿ ××¡××š ×–×”** - ×¡×™××•×Ÿ âœ… ×œ×©×œ×‘ ×©×”×•×©×œ×

---

## ×”×¢×¨×•×ª ×—×©×•×‘×•×ª

### ğŸš¨ × ×§×•×“×•×ª ×§×¨×™×˜×™×•×ª

1. **Phase 1 ×”×•× ×‘×¡×™×¡** - ×× ×œ× ×¢×•×‘×¨, ××œ ×ª××©×™×š
2. **Phase 4 ×•-9 ×§×©×•×¨×™×** - Phase 4 ×©×•××¨ ×ª×©×œ×•××™×, Phase 9 ××¢×‘×™×¨ ×œ×”×¢×‘×¨×•×ª
3. **Phase 8 ×“×•×¨×© SMTP** - ×•×•×™×“× ×©×™×© ×”×’×“×¨×•×ª ××™×™×œ (Nodemailer)

### ğŸ’¡ ×˜×™×¤×™×

- **×¢×‘×•×“ ×‘×¡×“×¨** - ××œ ×ª×“×œ×’ ×¢×œ Phase
- **×‘×“×•×§ ××—×¨×™ ×›×œ Phase** - ××œ ×ª×¦×‘×•×¨ bugs
- **Commit ×ª×›×•×£** - ×›×œ ××©×™××” = commit
- **×ª×™×¢×•×“** - ×”×•×¡×£ comments ×‘×§×•×“ ×”××•×¨×›×‘

### ğŸ”„ ×× ××©×”×• ×œ× ×¢×•×‘×“

1. **×—×–×•×¨ ×œ-Phase ×”×§×•×“×** - ×•×•×™×“× ×©×¢×•×‘×“
2. **×‘×“×•×§ Logs** - Browser console + Server logs
3. **×‘×“×•×§ DB** - ×•×•×™×“× ×©×”× ×ª×•× ×™× × ×›×•× ×™×
4. **×©××œ ×©××œ×•×ª** - ×œ×¤× ×™ ×©×××©×™×š

---

**×¡×™×•× ××¡××š ×©×œ×‘×™ ×¤×™×ª×•×—**

**×’×¨×¡×”:** 1.0
**×ª××¨×™×š:** 16/11/2024
**××•×›×Ÿ ×œ×¤×™×ª×•×—:** âœ…
